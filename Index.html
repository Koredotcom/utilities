<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>ChatBot Testing</title>
</head>
<script type="text/javascript" src="lib/jquery-1.8.2.min.js"></script>
<script type="text/javascript">
$(document).ready(function(){
$("#TestCaseUpload").click(function(event){
$("#TestCaseUpload").attr('disabled','disabled');
$( "#result" ).empty()
var fullPath = $('#TestCaseInputFile').val()
jsonData = {'url':fullPath}
$.ajax({
    type: "POST",
    url: 'http://localhost:5000/testcase/upload_and_run',
    dataType:"json",
    data: JSON.stringify(jsonData),
   'headers':{'content-type':'application/json'},
    success: function(response){
        //if request if made successfully then the response represent the data
        var desiredText = 'Download Test Results'
        if(response['error'] !== undefined){
            $( "#result" ).empty().append(response['error']);
            $("#TestCaseUpload").removeAttr('disabled')
        }else{
            var desiredLink =response['Output']
            $( "#result" ).empty().append('<a href="'+desiredLink+'">'+desiredText+'</a>');
            $("#TestCaseUpload").removeAttr('disabled')
        }
    }
  });

});
});
</script>
<body>
<input type="text" id="TestCaseInputFile"/>
<button id="TestCaseUpload">Upload and Run</button>
<div id="result"></div>
</body>
</html>